--- mariadb-connector-c-3.1.11-src/libmariadb/CMakeLists.txt.orig     2020-10-30 23:09:04.000000000 +1300
+++ mariadb-connector-c-3.1.11-src/libmariadb/CMakeLists.txt      2020-12-15 09:15:22.934517300 +1300
@@ -397,19 +397,6 @@ ENDIF()
 ADD_LIBRARY(mariadbclient STATIC  ${MARIADB_OBJECTS} ${EMPTY_FILE})
 TARGET_LINK_LIBRARIES(mariadbclient ${SYSTEM_LIBS})

-IF(UNIX)
-  ADD_LIBRARY(libmariadb SHARED ${libmariadb_RC} ${MARIADB_OBJECTS} ${EMPTY_FILE})
-  SET_TARGET_PROPERTIES(libmariadb PROPERTIES COMPILE_FLAGS "${CMAKE_SHARED_LIBRARY_C_FLAGS}")
-ELSE()
-  ADD_LIBRARY(libmariadb SHARED ${libmariadb_RC} mariadbclient.def)
-  TARGET_LINK_LIBRARIES(libmariadb LINK_PRIVATE mariadbclient)
-  SET_TARGET_PROPERTIES(libmariadb PROPERTIES LINKER_LANGUAGE C)
-ENDIF()
-
-TARGET_LINK_LIBRARIES(libmariadb LINK_PRIVATE ${SYSTEM_LIBS})
-
-SIGN_TARGET(libmariadb)
-
 IF(CMAKE_SIZEOF_VOID_P EQUAL 8 AND MSVC)
   SET_TARGET_PROPERTIES(mariadbclient PROPERTIES STATIC_LIBRARY_FLAGS "/machine:x64")
 ENDIF()
@@ -426,7 +413,6 @@ ENDIF()
 SET_TARGET_PROPERTIES(mariadbclient PROPERTIES IMPORTED_INTERFACE_LINK_LIBRARIES "${SYSTEM_LIBS}")
 SET_TARGET_PROPERTIES(libmariadb PROPERTIES IMPORTED_INTERFACE_LINK_LIBRARIES "${SYSTEM_LIBS}")

-SET_TARGET_PROPERTIES(libmariadb PROPERTIES PREFIX "")

 #
 # Installation
@@ -446,11 +432,6 @@ IF(WITH_MYSQLCOMPAT)
   ENDIF()
 ENDIF()

-
-SET_TARGET_PROPERTIES(libmariadb PROPERTIES VERSION
- ${CPACK_PACKAGE_VERSION_MAJOR}
- SOVERSION ${CPACK_PACKAGE_VERSION_MAJOR})
-
 IF(NOT WIN32)
   SET_TARGET_PROPERTIES(mariadbclient PROPERTIES OUTPUT_NAME "${LIBMARIADB_STATIC_NAME}")
 ENDIF()
@@ -458,7 +439,7 @@ ENDIF()
 INSTALL(TARGETS mariadbclient
           COMPONENT Development
           DESTINATION ${INSTALL_LIBDIR})
-INSTALL(TARGETS libmariadb
+INSTALL(TARGETS mariadb
           COMPONENT SharedLibraries
         DESTINATION ${INSTALL_LIBDIR})
